{% extends "base.html" %} {% block title %}Sample{% endblock %} 
{% block content %}

        <!-- Begin Page Content -->
        <div class="container-fluid">

            <!-- Page Heading -->
            <div class="d-sm-flex align-items-center justify-content-between mb-4">
                <h1 class="h3 mb-0 text-gray-800">Trash Bin 1</h1>
                <!-- Page Heading -->
                <a href="#" class="d-none d-sm-inline-block btn btn-sm btn-primary shadow-sm"><i class="fas fa-download fa-sm text-white-50"></i> Generate Report</a>
            </div>

            <!-- Content Row -->
            <div class="row mb-4">
                <div class="col-lg-12">
                    <!-- Project Card Example -->
                    <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
                      <ol class="carousel-indicators">
                          <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
                          <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
                          <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
                      </ol>
                      <div class="carousel-inner">
                          <div class="carousel-item active">
                          <img class="d-block w-100" src="https://ik.imagekit.io/tvlk/image/imageResource/2023/09/05/1693896773968-9015705bd21b08e5dd4d2b1bd7739177.png" alt="First slide">
                          </div>
                          <div class="carousel-item">
                          <img class="d-block w-100" src="https://ik.imagekit.io/tvlk/image/imageResource/2023/05/23/1684830739520-f10f2217d9c85963975c9394d466eb28.jpeg" alt="Second slide">
                          </div>
                          <div class="carousel-item">
                          <img class="d-block w-100" src="https://ik.imagekit.io/tvlk/image/imageResource/2023/09/03/1693757440317-b45dcae3854d6c9c7e2395e5847d06e4.png" alt="Third slide">
                          </div>
                          <div class="carousel-item">
                          <img class="d-block w-100" src="https://images.remotehub.com/d42c62669a7711eb91397e038280fee0/original_thumb/ec1eb042.jpg" alt="Third slide">
                          </div>
                      </div>
                      <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
                          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                          <span class="sr-only">Previous</span>
                      </a>
                      <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
                          <span class="carousel-control-next-icon" aria-hidden="true"></span>
                          <span class="sr-only">Next</span>
                      </a>
                    </div>
                </div>
            </div>
            <div class="row mb-4">
                <div class="col-lg-12">
                    <div class="card shadow mb-4">
                        <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                            <h6 class="m-0 font-weight-bold text-primary">Upload Image</h6>
                            <div class="dropdown no-arrow">
                            <a class="dropdown-toggle" href="#" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                <i class="fas fa-ellipsis-v fa-sm fa-fw text-gray-400"></i>
                            </a>
                            </div>
                        </div>
                        <div class="card-body">
                            <div class="">
                                <form action="/upload/file" method="post" enctype="multipart/form-data">
                                    <!-- <input type="file" class="custom-file-input" id="inputGroupFile03" multiple> -->
                                    <input type="file" id="myFile" name="filename" multiple>
                                    <!-- <label class="custom-file-label" for="inputGroupFile03">Choose file</label> -->
                                    <!-- <input type="submit"> -->
                                    <a class="btn btn-primary" type="" href="/trashbin" role="button" onclick="call_api()">Add File</a>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row mb-4">
                <!-- Project Card Example -->
                <div class="col-lg-7">
                    <div class="card shadow mb-4">
                    <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                        <h6 class="m-0 font-weight-bold text-primary">Trash Bin Capacity</h6>
                        <div class="dropdown no-arrow">
                        <a class="dropdown-toggle" href="#" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            <i class="fas fa-ellipsis-v fa-sm fa-fw text-gray-400"></i>
                        </a>
                        <div class="dropdown-menu dropdown-menu-right shadow animated--fade-in" aria-labelledby="dropdownMenuLink">
                            <div class="dropdown-header">Dropdown Header:</div>
                            <a class="dropdown-item" href="#">Action</a>
                            <a class="dropdown-item" href="#">Another action</a>
                            <div class="dropdown-divider"></div>
                            <a class="dropdown-item" href="#">Something else here</a>
                        </div>
                        </div>
                    </div>
                    <div class="card-body">
                        <div class="">
                        <h6 class="font-weight-bold"><a href="#">Trash Bin 1</a></h6>
                        <div class="row flex-row align-items-center">
                            <div class="col-lg-10">
                            <div class="progress mb-4 mt-auto mb-auto">
                                <div class="progress-bar bg-danger" role="progressbar" style="width: 60%" aria-valuenow="20" aria-valuemin="0" aria-valuemax="100">60%</div>
                            </div>
                            </div>
                            <div class="col-lg-2">
                            <a href="https://wa.me/+6285718585499" class="btn btn-success float-right">Call Janitor</a>
                        </div>
                        </div>
                        </div>
                    </div>
                    </div>
                </div>
                <div class="col-lg-5">
                    <div class="card shadow mb-4">
                        <!-- Card Header - Dropdown -->
                        <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                        <h6 class="m-0 font-weight-bold text-primary">Waste Volume</h6>
                        <div class="dropdown no-arrow">
                            <a class="dropdown-toggle" href="#" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            <i class="fas fa-ellipsis-v fa-sm fa-fw text-gray-400"></i>
                            </a>
                            <div class="dropdown-menu dropdown-menu-right shadow animated--fade-in" aria-labelledby="dropdownMenuLink">
                            <div class="dropdown-header">Dropdown Header:</div>
                            <a class="dropdown-item" href="#">Action</a>
                            <a class="dropdown-item" href="#">Another action</a>
                            <div class="dropdown-divider"></div>
                            <a class="dropdown-item" href="#">Something else here</a>
                            </div>
                        </div>
                        </div>
                        <!-- Card Body -->
                        <div class="card-body">
                        <div class="chart-pie pt-4 pb-2">
                            <canvas id="myPieChart"></canvas>
                        </div>
                        <div class="mt-4 text-center small">
                            <span class="mr-2">
                            <i class="fas fa-circle text-primary"></i> Direct
                            </span>
                            <span class="mr-2">
                            <i class="fas fa-circle text-success"></i> Social
                            </span>
                            <span class="mr-2">
                            <i class="fas fa-circle text-info"></i> Referral
                            </span>
                        </div>
                        </div>
                    </div>
                </div>
            </div>
          

        </div>
        <!-- /.container-fluid -->

      </div>
      <!-- End of Main Content -->

{% endblock %}

{% block js %}
    {{ super() }}
    <!-- Page level plugins -->
    <script src="{{ url_for('static', filename='vendor/chart.js/Chart.min.js')}}"></script>

    <!-- Page level custom scripts -->
    <script src="{{ url_for('static', filename='js/demo/chart-area-demo.js')}}"></script>
    <script src="{{ url_for('static', filename='js/demo/chart-pie-demo.js')}}"></script>
    <script>
        function call_api() {
            const postData = {
            index: 4,               // Your integer value
            url: 'https://images.remotehub.com/d42c62669a7711eb91397e038280fee0/original_thumb/ec1eb042.jpg' // Your URL
            };

            // Define the URL to send the POST request to
            const apiUrl = 'https://9664-2001-448a-2012-1fe7-e65c-2fdd-d673-5693.ngrok-free.app/add_image';

            // Define the request options
            const requestOptions = {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(postData)
            };

            // Send the POST request using fetch
            fetch(apiUrl, requestOptions)
            .then(response => {
                if (response.ok) {
                return response.json(); // Parse the JSON response
                } else {
                throw new Error('Failed to send data to the API');
                }
            })
            .then(data => {
                console.log('Response from API:', data);
                // Handle the response data here
            })
            .catch(error => {
                console.error('Error:', error);
                // Handle any errors here
            });
        }
    </script>
{% endblock %}
